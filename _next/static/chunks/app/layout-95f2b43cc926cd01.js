(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{8464:(e,t,r)=>{Promise.resolve().then(r.bind(r,3435)),Promise.resolve().then(r.t.bind(r,9324,23)),Promise.resolve().then(r.bind(r,5967)),Promise.resolve().then(r.bind(r,2292))},3435:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(5155),l=r(2115),o=r(4128),i=r(2475);let a={0:[[1,1,1],[1,0,1],[1,0,1],[1,0,1],[1,1,1]],1:[[0,1,0],[1,1,0],[0,1,0],[0,1,0],[1,1,1]],2:[[1,1,1],[0,0,1],[1,1,1],[1,0,0],[1,1,1]],3:[[1,1,1],[0,0,1],[1,1,1],[0,0,1],[1,1,1]],4:[[1,0,1],[1,0,1],[1,1,1],[0,0,1],[0,0,1]],5:[[1,1,1],[1,0,0],[1,1,1],[0,0,1],[1,1,1]],6:[[1,1,1],[1,0,0],[1,1,1],[1,0,1],[1,1,1]],7:[[1,1,1],[0,0,1],[0,1,0],[1,0,0],[1,0,0]],8:[[1,1,1],[1,0,1],[1,1,1],[1,0,1],[1,1,1]],9:[[1,1,1],[1,0,1],[1,1,1],[0,0,1],[1,1,1]],":":[[0],[1],[0],[1],[0]]};function u(){let{mounted:e,rows:t,cols:r,intensityRef:u,cornerEnergyRef:c,cellSize:f,activateCell:s,triggerPatternActivation:h,activateRegion:d}=function(){let{gridResolution:e=35,userDuration:t=300,activationSpeed:r=.7,tickMs:n=8,cornerSteps:o=1,energyReach:i=3,falloffExponent:a=2,cellWeightFactor:u=3,cornerWeightFactor:c=2.7,decayFactor:f=.85}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[s,h]=(0,l.useState)(!1),[d,m]=(0,l.useState)({width:0,height:0}),g=(0,l.useRef)(new Float32Array(0)),w=(0,l.useRef)(new Float32Array(0)),M=(0,l.useRef)([]),A=(0,l.useRef)([]),p=(0,l.useRef)([]),b=(0,l.useRef)(0),v=Math.min(d.width,d.height)/e,y=Math.ceil(d.height/v),F=Math.ceil(d.width/v),E=y*F,R=(y+1)*(F+1);(0,l.useEffect)(()=>{let e=()=>{m({width:window.innerWidth,height:window.innerHeight})};h(!0),e();let t=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var n=arguments.length,l=Array(n),o=0;o<n;o++)l[o]=arguments[o];clearTimeout(t),t=setTimeout(()=>{e(...l)},r)}}(e,100);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),(0,l.useEffect)(()=>{if(!s||y<=0||F<=0)return;let e=(i+.5)**2;p.current=Array(R).fill(null).map((t,r)=>{let n=Math.floor(r/(F+1)),l=r%(F+1),o={corners:[],cells:[]};for(let e=n-i;e<=n+i;e++)for(let t=l-i;t<=l+i;t++)if(e>=0&&e<=y&&t>=0&&t<=F){let r=e*(F+1)+t,u=e-n,c=t-l,f=u*u+c*c;if(f<=i**2){let e=1/(Math.sqrt(f||1e-4)**a+1);o.corners.push({index:r,weight:e})}}for(let t=n-i;t<=n+i;t++)for(let r=l-i;r<=l+i;r++)if(t>=0&&t<y&&r>=0&&r<F){let i=t*F+r,u=t+.5-n,c=r+.5-l,f=u*u+c*c;if(f<=e){let e=1/(Math.sqrt(f||1e-4)**a+1);o.cells.push({index:i,weight:e})}}return o}),g.current=new Float32Array(E),w.current=new Float32Array(R),M.current=Array(E).fill(0),A.current=Array(E).fill(0)},[s,d,i,a,F,y,R,E]),(0,l.useEffect)(()=>{let e;if(!s||!g.current.length)return;let t=0,l=i=>{if(i-t>n){let e=performance.now();for(let t=0;t<g.current.length;t++){let n=A.current[t]>e||M.current[t]>e?1:0;g.current[t]=Math.max(0,Math.min(1,g.current[t]+(n-g.current[t])*r))}if(++b.current>=o){b.current=0;let e=new Float32Array(R);for(let t=0;t<R;t++){let r=0,n=0,{corners:l,cells:o}=p.current[t];for(let{index:e,weight:t}of l)r+=w.current[e]*c*t,n+=t;for(let{index:e,weight:t}of o)r+=g.current[e]*u*t,n+=t;e[t]=n>0?r/n*f:0}w.current=e}t=i}e=requestAnimationFrame(l)};return e=requestAnimationFrame(l),()=>cancelAnimationFrame(e)},[s,R,n,o,r,u,c,f]);let S=(0,l.useCallback)(e=>{e<0||e>=E||(A.current[e]=performance.now()+t)},[t,E]),k=(0,l.useCallback)(e=>{let r=performance.now()+t;for(let t=0;t<E;t++)e(t)&&(A.current[t]=r)},[E,t]),x=(0,l.useCallback)(e=>{let r=Math.floor(e.x/v),n=Math.ceil((e.x+e.width)/v),l=Math.floor(e.y/v),o=Math.ceil((e.y+e.height)/v),i=performance.now()+t;for(let e=l;e<o;e++)for(let t=r;t<n;t++){let r=e*F+t;r>=0&&r<E&&(A.current[r]=i)}},[v,F,E,t]);return{mounted:s,rows:y,cols:F,intensityRef:g,cornerEnergyRef:w,cellSize:v,activateCell:S,triggerPatternActivation:k,activateRegion:x}}({gridResolution:60,userDuration:350,activationSpeed:.07,tickMs:8,energyReach:4,falloffExponent:2,cellWeightFactor:2,cornerWeightFactor:2.5,decayFactor:.6}),[m]=(0,l.useState)("2025-02-23T02:00:00Z"),g=(0,l.useRef)(null),w=(0,l.useRef)((0,o.Cf)()),M=(0,l.useRef)(0),A=(0,l.useRef)([]),p=(0,l.useRef)(new Float32Array(0));(0,l.useEffect)(()=>{e&&t>0&&r>0&&(p.current=new Float32Array(t*r).fill(0))},[e,t,r]),(0,l.useEffect)(()=>{g.current&&e&&(g.current.width=r*f,g.current.height=t*f)},[e,t,r,f]);let b=(0,l.useCallback)(()=>{let e=i.c9.utc(),n=i.c9.fromISO(m);if(e>n)return;let l=n.diff(e,["hours","minutes","seconds"]),o=[Math.floor(l.hours).toString().padStart(2,"0"),Math.floor(l.minutes).toString().padStart(2,"0"),Math.floor(l.seconds).toString().padStart(2,"0")].join(":").split("");if(o.join("")===A.current.join(""))return;A.current=o,p.current.fill(0);let u=[],c=0;o.forEach(e=>c+=":"===e?1:3);let s=Math.floor((r-(c+=o.length-1))/2),g=Math.floor((t-5)/2),w=s;o.forEach(e=>{(a[e]||[]).forEach((e,n)=>{e.forEach((e,l)=>{if(e){let e=w+l,o=g+n;if(e>=0&&e<r&&o>=0&&o<t){let t=o*r+e;p.current[t]=1,u.push(t)}}})}),w+=(":"===e?1:3)+1}),h(e=>u.includes(e)),d({x:s*f,y:g*f,width:c*f,height:4.5*f})},[r,t,m,h,d,f]);(0,l.useEffect)(()=>{let n;if(!e)return;let l=0,o=e=>{b(),e-l>=30&&(M.current+=.003,h(e=>{let n=e%r,l=Math.floor(e/r);return w.current(n/(r/4),l/(t/4),M.current)>.3&&.05>Math.random()}),l=e),n=requestAnimationFrame(o)};return n=requestAnimationFrame(o),()=>cancelAnimationFrame(n)},[e,r,t,h,b]);let v=(0,l.useCallback)(()=>{let e=g.current,n=null==e?void 0:e.getContext("2d");if(e&&n&&!(t<=0)&&!(r<=0)){if(n.clearRect(0,0,e.width,e.height),c.current){let e=.1;if(c.current.forEach(t=>{t>e&&(e=t)}),e>.1){n.fillStyle="rgba(50, 200, 50, 1)";for(let e=0;e<c.current.length;e++){let t=c.current[e];if(t>.1){let l=Math.floor(e/(r+1)),o=e%(r+1),i=Math.min(.15*f+t*f*1.2,.8*f);n.fillRect(o*f-i/2,l*f-i/2,i,i)}}}}if(p.current){n.fillStyle="rgba(0, 0, 0, 1)";for(let e=0;e<p.current.length;e++){let t=p.current[e];t>.01&&(n.globalAlpha=t,n.fillRect(e%r*f,Math.floor(e/r)*f,f,f))}n.globalAlpha=1}}},[t,r,f,!1,!0,!0,c,u]);(0,l.useEffect)(()=>{let t;if(!e)return;let r=()=>{v(),t=requestAnimationFrame(r)};return t=requestAnimationFrame(r),()=>cancelAnimationFrame(t)},[e,v]);let y=(0,l.useCallback)(e=>{let n,l;if(!g.current)return;let o=g.current.getBoundingClientRect();"touches"in e?(n=e.touches[0].clientX-o.left,l=e.touches[0].clientY-o.top):(n=e.clientX-o.left,l=e.clientY-o.top);let i=Math.floor(n/f),a=Math.floor(l/f);if(i>=0&&i<r&&a>=0&&a<t){s(a*r+i);for(let e=-1;e<=1;e++)for(let n=-1;n<=1;n++){let l=a+e,o=i+n;l>=0&&l<t&&o>=0&&o<r&&s(l*r+o)}}e.preventDefault()},[r,t,f,s]);return e?(0,n.jsx)("div",{className:"fixed inset-0 bg-black touch-none",children:(0,n.jsx)("canvas",{ref:g,onPointerMove:y,onTouchMove:y,onTouchStart:y,style:{transform:"translateZ(0)",touchAction:"none"},className:"w-full h-full"})}):(0,n.jsx)("div",{className:"fixed inset-0 bg-black"})}},9324:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[533,329,441,517,358],()=>t(8464)),_N_E=e.O()}]);